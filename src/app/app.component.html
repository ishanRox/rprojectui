<div class="container">
  <table class="table table-bordered">
    <thead></thead>
    <tbody>
      <tr>
        <td>
          <div class="card" style="width: 18rem">
            <div class="card-header">
              <h1>upload csv</h1>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <input
                  type="file"
                  class="file-input"
                  (change)="onFileChange($event)"
                  #fileUpload
                />
              </li>
              <li class="list-group-item">
                <div>
                  <button
                    type="button"
                    class="btn btn-primary"
                    (click)="submitForm()"
                  >
                    upload csv
                  </button>
                </div>
              </li>
              <li class="list-group-item"></li>
            </ul>
          </div>
        </td>
        <td>
          <div class="card" style="width: 18rem">
            <div class="card-header"><h2>Download csv based on age</h2></div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <input
                  #lessThanOrEqualTo
                  type="text"
                  class="form-control"
                  id="model"
                  placeholder="lessThanOrEqualTo"
                />
                <hr />
                lessThanOrEqualTo
              </li>
              <li class="list-group-item">
                <input
                  #greaterThanOrEqualTo
                  type="text"
                  class="form-control"
                  id="model"
                  placeholder="greaterThanOrEqualTo"
                />
                <hr />
                greaterThanOrEqualTo
              </li>

              <li class="list-group-item">
                <button
                  type="submit"
                  class="btn btn-primary mb-2"
                  (click)="
                    downloadCsv(
                      greaterThanOrEqualTo.value,
                      lessThanOrEqualTo.value
                    )
                  "
                >
                  Download csv based on given Criteria
                </button>
              </li>
            </ul>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<hr />

<form class="form-inline">
  <div class="form-group mx-sm-3 mb-2">
    <label for="model" class="sr-only">Search by Model</label>
    <input
      #modelval
      type="text"
      class="form-control"
      id="model"
      placeholder="Search by Model"
    />
  </div>
  <button
    type="submit"
    class="btn btn-primary mb-2"
    (click)="searchModelFromGraphql(modelval.value)"
  >
    Search by Model
  </button>
</form>

<form class="form-inline">
  <div class="form-group mx-sm-3 mb-2">
    <label for="model" class="sr-only">Search by id </label>
    <input
      #idtext
      type="text"
      class="form-control"
      id="model"
      placeholder="Search by id"
    />
  </div>
  <button
    type="submit"
    class="btn btn-primary mb-2"
    (click)="searchIdFromGraphql(idtext.value)"
  >
    Search by id Number
  </button>
</form>

<form class="form-inline">
  <div class="form-group mx-sm-3 mb-2">
    <div class="row">
      <div class="col-sm">
        <label for="model" class="sr-only">FirstName</label>
        <input
          #fname
          type="text"
          class="form-control"
          id="model"
          placeholder="FirstName"
        />
      </div>
      <div class="col-sm">
        <label for="model" class="sr-only">LastName</label>
        <input
          #lname
          type="text"
          class="form-control"
          id="model"
          placeholder="LastName"
        />
      </div>
      <div class="col-sm">
        <label for="model" class="sr-only">Email</label>
        <input
          #email
          type="text"
          class="form-control"
          id="model"
          placeholder="Email"
        />
      </div>
      <div class="col-sm">
        <label for="model" class="sr-only">vid</label>
        <input
          #vid
          type="text"
          class="form-control"
          id="model"
          placeholder="vid"
        />
      </div>
    </div>
  </div>
</form>
<div class="container-fluid">
  <div class="row">
    <div class="col-sm">
      <button
        type="button"
        class="btn btn-secondary btn-lg btn-block"
        (click)="
          updateRow(
            idtext.value,
            fname.value,
            lname.value,
            vid.value,
            email.value
          )
        "
      >
        Update row with current id
      </button>
    </div>
    <div class="col-sm">
      <button
        type="button"
        class="btn btn-secondary btn-lg btn-block"
        (click)="deleteVehicalById(idtext.value)"
      >
        Delete row with current id
      </button>
    </div>
  </div>
</div>

<hr />
<!-- 
<div class="container-fluid">
  <div class="row">
    <div class="col">
      <button
        type="button"
        class="btn btn-primary btn-primary btn-lg btn-block"
        (click)="changeOffset('previouse')"
      >
        previouse
      </button>
    </div>

    <div class="col">
      <button
        type="button"
        class="btn btn-primary btn-primary btn-lg btn-block"
        (click)="changeOffset('next')"
      >
        next
      </button>
    </div>
  </div>
</div> -->
<br />

<body class="container-fluid">
  <div class="row">
   <div class="span6" style="float: none; margin: 0 auto;">
    <nav aria-label="navigation">
      <ul class="pagination">
        <li class="page-item">
          <a
            class="page-link"
            [routerLink]=""
            (click)="changeOffset('previouse')"
            >Previous</a
          >
        </li>
        <li
          *ngFor="let i of rowNoArray | async; let no = index"
          class="page-item"
        >
          <a
            class="page-link"
            [routerLink]=""
            (click)="getdataFromGraphqlWithOffset(i)"
            >{{ i }}</a
          >
        </li>

        <li class="page-item">
          <a class="page-link" [routerLink]="" (click)="changeOffset('next')"
            >Next</a
          >
        </li>
      </ul>
    </nav>
  
 </div>
</div>
<br />
<hr />
<table class="table table-dark table-hover">
  <thead>
    <tr>
      <th scope="col">index</th>
      <th scope="col">id</th>
      <th scope="col">manufacturedDate</th>
      <th scope="col">age</th>
      <th scope="col">firstName</th>
      <th scope="col">lastName</th>
      <th scope="col">email</th>
      <th scope="col">carMake</th>
      <th scope="col">carModel</th>
      <th scope="col">vinNumber</th>
      <th scope="col">vid</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let vehical of allVehicals; let index = index">
      <td>{{ index + 1 }}</td>
      <td>{{ vehical.id }}</td>
      <td>{{ vehical.manufacturedDate }}</td>
      <td>{{ vehical.ageOfVehicle }}</td>
      <td>{{ vehical.firstName }}</td>
      <td>{{ vehical.lastName }}</td>
      <td>{{ vehical.email }}</td>
      <td>{{ vehical.carMake }}</td>
      <td>{{ vehical.carModel }}</td>
      <td>{{ vehical.vinNumber }}</td>
      <td>{{ vehical.vid }}</td>
    </tr>
  </tbody>
</table>
